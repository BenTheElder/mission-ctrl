<html>
<style>
#canvas-container {
width: 100%;
text-align:center;
}
canvas {
display: inline;
}
</style>
<body style="background-color: rgb(56, 104, 146)">
<script type="text/javascript" src="smoothie.js"></script>
<h1 style="text-align:center">Cpu % Usage:</h1>
<div id="canvas-container">
<canvas id="mycanvas" width="400" height="100"></canvas>
</div>
<script type="text/javascript">
var line1 = new TimeSeries();
setInterval(function() {
var xmlHttp = new XMLHttpRequest();
xmlHttp.open( "GET", "/data", false );
xmlHttp.send( null );
var resp = xmlHttp.responseText;
var data = JSON.parse(resp);
line1.append(new Date().getTime(), data.cpu);
}, 500);
var smoothie = new SmoothieChart({ grid: { strokeStyle: 'rgb(125, 0, 0)', fillStyle: 'rgb(60, 0, 0)', lineWidth: 1, millisPerLine: 250, verticalSections: 6 } });
smoothie.addTimeSeries(line1, { strokeStyle: 'rgb(0, 255, 0)', fillStyle: 'rgba(0, 255, 0, 0.4)', lineWidth: 3 });
smoothie.streamTo(document.getElementById("mycanvas"), 1000);
</script>
</body>
</html>